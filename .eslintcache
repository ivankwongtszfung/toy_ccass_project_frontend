[{"C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\index.js":"1","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\reportWebVitals.js":"2","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\App.js":"3","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\lib\\canvasjs.react.js":"4","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\lib\\canvasjs.min.js":"5","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\CCASS\\ShareholdingGraph.js":"6","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\CCASS\\CCASSForm.js":"7","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\CCASS\\TransactionFinder.js":"8"},{"size":500,"mtime":1612366618368,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"10"},{"size":2726,"mtime":1612601268529,"results":"12","hashOfConfig":"10"},{"size":2080,"mtime":1612367368941,"results":"13","hashOfConfig":"10"},{"size":479523,"mtime":1612367368971,"results":"14","hashOfConfig":"10"},{"size":2572,"mtime":1612599667168,"results":"15","hashOfConfig":"10"},{"size":2310,"mtime":1612599081589,"results":"16","hashOfConfig":"10"},{"size":764,"mtime":1612601275892,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"17ajfqk",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\index.js",[],["39","40"],"C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\reportWebVitals.js",[],"C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\App.js",["41","42","43"],"import \"./App.css\";\nimport CanvasJSReact from \"./lib/canvasjs.react\";\n\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { Button } from \"@material-ui/core\";\n\nimport ShareholdingGraph from \"./CCASS/ShareholdingGraph\";\nimport CCASSForm from \"./CCASS/CCASSForm\";\nimport TransactionFinder from \"./CCASS/TransactionFinder\";\nimport React, { useState } from \"react\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nconst CanvasJS = CanvasJSReact.CanvasJS;\nconst CanvasJSChart = CanvasJSReact.CanvasJSChart;\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\nfunction App() {\n  const methods = useForm();\n  const [param, setParam] = useState();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  const onSubmit = (data) => {\n    console.log(data);\n    setParam(data);\n  };\n  return (\n    <div>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n          aria-label=\"scrollable auto tabs example\"\n        >\n          <Tab label=\"Top 10 Shareholding\" />\n          <Tab label=\"Transaction Finder\" />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <FormProvider {...methods}>\n          <form onSubmit={methods.handleSubmit(onSubmit)}>\n            <CCASSForm />\n          </form>\n        </FormProvider>\n        {param && (\n          <ShareholdingGraph\n            stock_code={param.stock_code}\n            start_date={param.start_date}\n            end_date={param.end_date}\n          />\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <FormProvider {...methods}>\n          <form onSubmit={methods.handleSubmit(onSubmit)}>\n            <CCASSForm showThreshold />\n          </form>\n        </FormProvider>\n        {param && (\n          <TransactionFinder\n            stock_code={param.stock_code}\n            start_date={param.start_date}\n            end_date={param.end_date}\n            threshold={param.threshold}\n          />\n        )}\n      </TabPanel>\n    </div>\n  );\n}\n\nexport { CanvasJSChart };\nexport default App;\n","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\lib\\canvasjs.react.js",["44"],"ï»¿/*\r\nCanvasJS React Charts - https://canvasjs.com/\r\nCopyright 2021 fenopix\r\n\r\n--------------------- License Information --------------------\r\nCanvasJS is a commercial product which requires purchase of license. Without a commercial license you can use it for evaluation purposes for upto 30 days. Please refer to the following link for further details.\r\nhttps://canvasjs.com/license/\r\n\r\n*/\r\nvar React = require('react');\r\nvar CanvasJS = require('./canvasjs.min');\r\nCanvasJS = CanvasJS.Chart ? CanvasJS : window.CanvasJS;\r\n\r\nclass CanvasJSChart extends React.Component {\r\n\tstatic _cjsContainerId = 0\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.options = props.options ? props.options : {};\r\n\t\tthis.containerProps = props.containerProps ? props.containerProps : { width: \"100%\", position: \"relative\" };\r\n\t\tthis.containerProps.height = props.containerProps && props.containerProps.height ? props.containerProps.height : this.options.height ? this.options.height + \"px\" : \"400px\";\r\n\t\tthis.chartContainerId = \"canvasjs-react-chart-container-\" + CanvasJSChart._cjsContainerId++;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t//Create Chart and Render\t\t\r\n\t\tthis.chart = new CanvasJS.Chart(this.chartContainerId, this.options);\r\n\t\tthis.chart.render();\r\n\r\n\t\tif (this.props.onRef)\r\n\t\t\tthis.props.onRef(this.chart);\r\n\t}\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t//Check if Chart-options has changed and determine if component has to be updated\r\n\t\treturn !(nextProps.options === this.options);\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\t//Update Chart Options & Render\r\n\t\tthis.chart.options = this.props.options;\r\n\t\tthis.chart.render();\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\t//Destroy chart and remove reference\r\n\t\tthis.chart.destroy();\r\n\t\tif (this.props.onRef)\r\n\t\t\tthis.props.onRef(undefined);\r\n\t}\r\n\trender() {\r\n\t\t//return React.createElement('div', { id: this.chartContainerId, style: this.containerProps });\t\t\r\n\t\treturn <div id={this.chartContainerId} style={this.containerProps} />\r\n\t}\r\n}\r\n\r\nvar CanvasJSReact = {\r\n\tCanvasJSChart: CanvasJSChart,\r\n\tCanvasJS: CanvasJS\r\n};\r\n\r\nexport default CanvasJSReact;","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\lib\\canvasjs.min.js",[],["45","46"],"C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\CCASS\\ShareholdingGraph.js",["47","48"],"import React, { useState, useEffect } from \"react\";\r\n\r\nimport { CanvasJSChart } from \"../App\";\r\n\r\nexport default function ShareholdingGraph(props) {\r\n  const [shareholding, setShareholding] = useState([]);\r\n  const { stock_code, start_date, end_date } = props;\r\n\r\n  const params = {\r\n    stock_code,\r\n    start_date,\r\n    end_date,\r\n  };\r\n  useEffect(() => {\r\n    console.log(params);\r\n    const url = new URL(\"http://127.0.0.1:8000/ccass/top_ten_shareholding\");\r\n    const parse_data = {};\r\n    const id_name_mapping = {};\r\n    url.search = new URLSearchParams(params).toString();\r\n\r\n    fetch(url)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((responses) => {\r\n        Object.keys(responses).forEach(function (key) {\r\n          console.log(key);\r\n          responses[key].forEach((data, index) => {\r\n            const participate_id = data[\"participant-id\"];\r\n            id_name_mapping[participate_id] = data[\"participant-name\"];\r\n            if (!(participate_id in parse_data)) {\r\n              parse_data[participate_id] = [{ y: index + 1, x: new Date(key) }];\r\n            } else {\r\n              parse_data[participate_id].push({\r\n                y: index + 1,\r\n                x: new Date(key),\r\n              });\r\n            }\r\n          });\r\n          Object.keys(parse_data).forEach((participate_id) => {\r\n            parse_data[participate_id].sort((a, b) => {\r\n              return b[\"x\"] - a[\"x\"];\r\n            });\r\n          });\r\n          console.log(parse_data);\r\n        });\r\n        const dataPoints = [];\r\n        if (parse_data) {\r\n          Object.keys(parse_data).map((participant) => {\r\n            console.log(participant);\r\n            dataPoints.push({\r\n              type: \"line\",\r\n              name: id_name_mapping[participant],\r\n              showInLegend: true,\r\n              dataPoints: parse_data[participant],\r\n            });\r\n          });\r\n          console.log(dataPoints);\r\n          setShareholding(dataPoints);\r\n        }\r\n      });\r\n  }, [params.stock_code, params.start_date, params.end_date]);\r\n\r\n  return (\r\n    <div>\r\n      {shareholding && (\r\n        <CanvasJSChart\r\n          options={{\r\n            animationEnabled: true,\r\n            itle: {\r\n              text: \"CCASS Shareholding\",\r\n            },\r\n            axisY: {\r\n              title: \"Top 10 Shareholding\",\r\n              reversed: true,\r\n            },\r\n            toolTip: {\r\n              shared: true,\r\n            },\r\n            data: shareholding,\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\CCASS\\CCASSForm.js",[],"C:\\Users\\Ivan Kwong\\Desktop\\interview_project\\ccass_portal\\ccass\\src\\CCASS\\TransactionFinder.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":5,"column":10,"nodeType":"55","messageId":"56","endLine":5,"endColumn":16},{"ruleId":"53","severity":1,"message":"57","line":15,"column":8,"nodeType":"55","messageId":"56","endLine":15,"endColumn":18},{"ruleId":"53","severity":1,"message":"58","line":18,"column":7,"nodeType":"55","messageId":"56","endLine":18,"endColumn":15},{"ruleId":"59","severity":1,"message":"60","line":1,"column":1,"nodeType":"61","messageId":"62","fix":"63"},{"ruleId":"49","replacedBy":"64"},{"ruleId":"51","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":49,"column":53,"nodeType":"68","messageId":"69","endLine":49,"endColumn":55},{"ruleId":"70","severity":1,"message":"71","line":62,"column":6,"nodeType":"72","endLine":62,"endColumn":61,"suggestions":"73"},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Typography' is defined but never used.","'CanvasJS' is assigned a value but never used.","unicode-bom","Unexpected Unicode BOM (Byte Order Mark).","Program","unexpected",{"range":"76","text":"77"},["74"],["75"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'params'. Either include it or remove the dependency array.","ArrayExpression",["78"],"no-global-assign","no-unsafe-negation",[-1,0],"",{"desc":"79","fix":"80"},"Update the dependencies array to be: [params.stock_code, params.start_date, params.end_date, params]",{"range":"81","text":"82"},[2026,2081],"[params.stock_code, params.start_date, params.end_date, params]"]